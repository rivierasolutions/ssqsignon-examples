<!DOCTYPE html>
<html ng-app="ssqSignonExampleApp">
<head lang="en">
    <meta charset="UTF-8">
    <base href="/">
    <title>SSQ signon example app</title>

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css"/>

    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.3/angular.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.3/angular-resource.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.3/ui-bootstrap-tpls.min.js"></script>
    <script src="//rawgit.com/rivierasolutions/angular-ssqsignon/1.0.2/angular-ssqsignon.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</head>
<body ng-controller="landingCtrl">
    <div class="container">
        <div class="page-header">
            <h1>SSQ signon example app</h1>
            <span ng-show="loggedIn">Welcome <strong>{{ userId }}</strong>! <button class="btn btn-default btn-sm" ng-click="logout()">Logout</button></span>
        </div>
        <div ng-if="cat">
            <img src="/cat.jpg" alt="cat" style="width: 320px"/>
            {{cat}}
        </div>
        <div ng-if="dog">
            <img src="/dog.jpg" alt="dog" style="width: 320px"/>
            {{dog}}
        </div>
    </div>
</body>

<script type="text/ng-template" id="loginModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Login</h3>
    </div>
    <div class="modal-body">
        <div class="alert alert-warning text-center" ng-show="loginFailed">Login failed <span class="pull-right" ng-click="loginFailed = false" style="cursor: pointer"><i class="fa fa-remove"></i></span> </div>
        <form>
            <div class="form-group">
                <label>Username</label>
                <input type="text" name="username" ng-model="username" class="form-control"/>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" name="password" ng-model="password" class="form-control"/>
            </div>
        </form>
    </div>
    <div class="modal-footer">
        <button class="btn btn-primary btn-block" ng-click="login()" ><i class="fa fa-spinner fa-spin" ng-show="working"></i> Login</button>
    </div>
</script>
</html>

<script type="text/ng-template" id="redirectModal.html">
    <div class="modal-header">
        <h3 class="modal-title">Attempt to redirect</h3>
    </div>
    <div class="modal-body">
        <strong>{{redirectUri}}</strong> wants access to your profile with scope <strong>{{scope}}</strong>.
    </div>
    <div class="modal-footer">
        <button class="btn btn-success btn-block" ng-click="allow()" ><i class="fa fa-check"></i> Allow</button>
        <button class="btn btn-danger btn-block" ng-click="deny()" ><i class="fa fa-remove"></i> Deny</button>
    </div>
</script>
</html>